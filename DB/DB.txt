CREATE DATABASE WKWK_DISCORD;

USE WKWK_DISCORD;

CREATE TABLE BOT_DATA(
 BOT_TOKEN CHAR(59) PRIMARY KEY NOT NULL,
 BOT_CLIENT_ID VARCHAR(20),
 CLIENT_SECRET VARCHAR(40),
 ACCESS_TOKEN VARCHAR(50),
 ACCESS_TOKEN_SECRET VARCHAR(50),
 API_KEY VARCHAR(50),
 API_SECRET_KEY VARCHAR(50)
);

CREATE TABLE SERVER_PROPERTY (
 SERVER_ID CHAR(25) PRIMARY KEY NOT NULL,
 MENTION_CHANNEL_ID VARCHAR(30),
 FIRST_CHANNEL_ID VARCHAR(30),
 VOICE_CATEGORY_ID VARCHAR(30),
 TEXT_CATEGORY_ID VARCHAR(30),
 PREFIX VARCHAR(100) NOT NULL,
 TEMP_BY VARCHAR(1) DEFAULT '1',
 TEXT_BY VARCHAR(1) DEFAULT '1',
 DEFAULT_SIZE CHAR(3) DEFAULT '0',
 STEREO_TYPED VARCHAR(100) DEFAULT '&here&/n&text&/n&channel&',
 DEFAULT_NAME varchar(100) DEFAULT '&user&-Channel'
);

CREATE TABLE TEMP_CHANNELS (
 VOICE_CHANNEL_ID VARCHAR(30) PRIMARY KEY NOT NULL,
 TEXT_CHANNEL_ID VARCHAR(30) NOT NULL,
 SERVER_ID VARCHAR(30) NOT NULL,
 HIDE_BY TINYINT(1) DEFAULT 0,
 LOCK_BY TINYINT(1) DEFAULT 0
);

CREATE TABLE MENTION_MESSAGES (
 SERVER_ID VARCHAR(30) NOT NULL,
 MESSAGE_ID VARCHAR(30) NOT NULL,
 TEXT_CHANNEL_ID VARCHAR(30) NOT NULL,
 PRIMARY KEY (TEXT_CHANNEL_ID,MESSAGE_ID)
);

CREATE TABLE REACT_MESSAGE (
 SERVER_ID VARCHAR(30) PRIMARY KEY NOT NULL,
 TEXT_CHANNEL_ID VARCHAR(30) NOT NULL,
 MESSAGE_ID VARCHAR(30) NOT NULL
);

CREATE TABLE REACT_ROLES (
 MESSAGE_ID VARCHAR(30) NOT NULL,
 ROLE_ID VARCHAR(30) NOT NULL,
 EMOJI VARCHAR(30) NOT NULL,
 SERVER_ID VARCHAR(30) NOT NULL,
 PRIMARY KEY (MESSAGE_ID,EMOJI)
);

CREATE TABLE NAME_PRESET (
 SERVER_ID VARCHAR(30) NOT NULL,
 NAME VARCHAR(100) NOT NULL,
 PRIMARY KEY (SERVER_ID,NAME)
);

CREATE TABLE DELETE_TIMES (
 SERVER_ID VARCHAR(30) NOT NULL,
 TEXT_CHANNEL_ID VARCHAR(30) NOT NULL,
 DELETE_TIME INT NOT NULL,
 TIME_UNIT VARCHAR(1) NOT NULL,
 PRIMARY KEY (SERVER_ID,TEXT_CHANNEL_ID)
);

CREATE TABLE DELETE_MESSAGES (
 SERVER_ID VARCHAR(30) NOT NULL,
 MESSAGE_ID VARCHAR(30) NOT NULL,
 DELETE_TIME DATETIME NOT NULL,
 TEXT_CHANNEL_ID VARCHAR(30) NOT NULL,
 PRIMARY KEY (SERVER_ID,MESSAGE_ID)
);

CREATE TABLE LOGGING (
 SERVER_ID VARCHAR(30) NOT NULL,
 CHANNEL_ID VARCHAR(30) NOT NULL,
 LOG_TYPE VARCHAR(15) NOT NULL,
 TARGET_CHANNEL_ID VARCHAR(30) NOT NULL,
 PRIMARY KEY (SERVER_ID,CHANNEL_ID,LOG_TYPE,TARGET_CHANNEL_ID)
);

CREATE TABLE BOT_SEND_MESSAGES (
 SERVER_ID CHAR(25),
 MESSAGE_ID VARCHAR(30),
 CHANNEL_ID VARCHAR(30),
 USER_ID VARCHAR(30),
 PRIMARY KEY (SERVER_ID,MESSAGE_ID,CHANNEL_ID,USER_ID)
);

INSERT INTO BOT_DATA VALUES ('<BotToken>','<ClientId>','<ClientSecret>','<TwitterToken>','<TwitterTokenSecret>','<TwitterApi>','<TwitterApiSecret>');

CREATE USER 'wkwk' IDENTIFIED BY 'horizonLuna';
GRANT ALL ON WKWK_DISCORD.* TO 'wkwk';